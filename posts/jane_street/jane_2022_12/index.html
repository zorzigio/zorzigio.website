<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Die Agony | zorzi.dev</title>
<meta name=keywords content="jane street,puzzle"><meta name=description content="Introduction This is the solution for the December 2022&rsquo;s Jane Street puzzle. Check out the original post on the Jane Street website.
The Puzzle A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner. It then makes a sequence of “moves”. Each move consists of tipping the die into an orthogonally adjacent square within the grid.
The die starts with a “score” of 0."><meta name=author content="Giorgio Zorzi"><link rel=canonical href=https://zorzi.dev/posts/jane_street/jane_2022_12/><link crossorigin=anonymous href=/assets/css/stylesheet.3013caa96da72348ecf619db5f1c5164f964cc1e7734776ddef00ba60fd3a10d.css integrity="sha256-MBPKqW2nI0js9hnbXxxRZPlkzB53NHdt3vALpg/ToQ0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://zorzi.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zorzi.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zorzi.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://zorzi.dev/apple-touch-icon.png><link rel=mask-icon href=https://zorzi.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VYMLMYB0DN"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VYMLMYB0DN",{anonymize_ip:!1})}</script><meta property="og:title" content="Die Agony"><meta property="og:description" content="Introduction This is the solution for the December 2022&rsquo;s Jane Street puzzle. Check out the original post on the Jane Street website.
The Puzzle A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner. It then makes a sequence of “moves”. Each move consists of tipping the die into an orthogonally adjacent square within the grid.
The die starts with a “score” of 0."><meta property="og:type" content="article"><meta property="og:url" content="https://zorzi.dev/posts/jane_street/jane_2022_12/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-01T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-01T00:00:00+00:00"><meta property="og:site_name" content="zorzi.dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Die Agony"><meta name=twitter:description content="Introduction This is the solution for the December 2022&rsquo;s Jane Street puzzle. Check out the original post on the Jane Street website.
The Puzzle A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner. It then makes a sequence of “moves”. Each move consists of tipping the die into an orthogonally adjacent square within the grid.
The die starts with a “score” of 0."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zorzi.dev/posts/"},{"@type":"ListItem","position":3,"name":"Die Agony","item":"https://zorzi.dev/posts/jane_street/jane_2022_12/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Die Agony","name":"Die Agony","description":"Introduction This is the solution for the December 2022\u0026rsquo;s Jane Street puzzle. Check out the original post on the Jane Street website.\nThe Puzzle A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner. It then makes a sequence of “moves”. Each move consists of tipping the die into an orthogonally adjacent square within the grid.\nThe die starts with a “score” of 0.","keywords":["jane street","puzzle"],"articleBody":"Introduction This is the solution for the December 2022’s Jane Street puzzle. Check out the original post on the Jane Street website.\nThe Puzzle A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner. It then makes a sequence of “moves”. Each move consists of tipping the die into an orthogonally adjacent square within the grid.\nThe die starts with a “score” of 0. On the Nth move, its score increases by N times the value of the die facing up after the move. However, the die is only allowed to move into a square if its score after the move matches the value in the square. Also, the die cannot be translated or rotated in place in addition to these moves.\nAfter some number of moves the die arrives in the upper-right (blue) corner.\nThe answer to this puzzle is the sum of values in the unvisited squares from the die’s journey.\nSolution For this puzzle, I utilized Python due to its efficient implementation capabilities. I began by creating classes to represent the board and die, keeping track of position and score. Initially, the die did not have any numbers assigned to its faces. When the die was moved, there were two possible scenarios:\nThe value of the upper face of the die had not yet been set: In this case, I needed to calculate the value of the die’s face and verify that it was valid. The upper face of the die already had a value: In this instance, I needed to ensure that the value on the square matched the die’s score. If either of these cases was not valid, the move was deemed invalid. I utilized recursion, with the stopping condition being when the die reached the upper-right corner. After a solution was found, I simply counted the sum of the values in the unvisited squares to arrive at the final answer: 1935. The board showing the die’s path is depicted below.\nAnd just for the curious ones, this is the value of the die’s faces at the starting position:\nAnd this is the link to the solution from Jane Street Link\nFinal notes This was a fun puzzle to solve and definitely easier compared to the previous one ( Pent up frustration 2) as can be seen from the number of successful submissions.\nYou can also take a look at the code behind my solution on GitHub.\nDo you want to take a look at more puzzles? Check out here\n","wordCount":"428","inLanguage":"en","datePublished":"2023-01-01T00:00:00Z","dateModified":"2023-01-01T00:00:00Z","author":{"@type":"Person","name":"Giorgio Zorzi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zorzi.dev/posts/jane_street/jane_2022_12/"},"publisher":{"@type":"Organization","name":"zorzi.dev","logo":{"@type":"ImageObject","url":"https://zorzi.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zorzi.dev accesskey=h title="zorzi.dev (Alt + H)">zorzi.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zorzi.dev/hello/ title=Hello><span>Hello</span></a></li><li><a href=https://zorzi.dev/education/ title=Education><span>Education</span></a></li><li><a href=https://zorzi.dev/experience/ title=Experience><span>Experience</span></a></li><li><a href=https://zorzi.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://zorzi.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zorzi.dev>Home</a>&nbsp;»&nbsp;<a href=https://zorzi.dev/posts/>Posts</a></div><h1 class=post-title>Die Agony</h1></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>This is the solution for the December 2022&rsquo;s Jane Street puzzle.
Check out the original post on the
<a href=https://www.janestreet.com/puzzles/die-agony-index/ target=_blank>Jane Street website</a>.</p><h2 id=the-puzzle>The Puzzle<a hidden class=anchor aria-hidden=true href=#the-puzzle>#</a></h2><p><img loading=lazy src=images/board.svg alt=Board></p><p>A six-sided die, with numbers written on each of its faces, is placed on the 6-by-6 grid above, in the lower-left (yellow) corner.
It then makes a sequence of “moves”.
Each move consists of tipping the die into an orthogonally adjacent square within the grid.</p><p>The die starts with a “score” of 0.
On the Nth move, its score increases by N times the value of the die facing up after the move.
However, the die is only allowed to move into a square if its score after the move matches the value in the square.
Also, the die cannot be translated or rotated in place in addition to these moves.</p><p>After some number of moves the die arrives in the upper-right (blue) corner.</p><p>The answer to this puzzle is the sum of values in the unvisited squares from the die’s journey.</p><h2 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h2><p>For this puzzle, I utilized Python due to its efficient implementation capabilities. I began by creating classes to represent the board and die, keeping track of position and score. Initially, the die did not have any numbers assigned to its faces. When the die was moved, there were two possible scenarios:</p><ol><li>The value of the upper face of the die had not yet been set: In this case, I needed to calculate the value of the die&rsquo;s face and verify that it was valid.</li><li>The upper face of the die already had a value: In this instance, I needed to ensure that the value on the square matched the die&rsquo;s score.</li></ol><p>If either of these cases was not valid, the move was deemed invalid. I utilized recursion, with the stopping condition being when the die reached the upper-right corner. After a solution was found, I simply counted the sum of the values in the unvisited squares to arrive at the final answer: 1935. The board showing the die&rsquo;s path is depicted below.</p><p><img loading=lazy src=images/solution.svg alt=Solution></p><p>And just for the curious ones, this is the value of the die&rsquo;s faces at the starting position:</p><p><img loading=lazy src=images/dice.svg alt=Die></p><p>And this is the link to the solution from Jane Street
<a href=https://www.janestreet.com/puzzles/die-agony-solution/ target=_blank>Link</a></p><h2 id=final-notes>Final notes<a hidden class=anchor aria-hidden=true href=#final-notes>#</a></h2><p>This was a fun puzzle to solve and definitely easier compared to the previous one (
<a href=https://zorzi.dev/posts/jane_street/jane_2022_11/ title="Pent-up Frustration 2">Pent up frustration 2</a>) as can be seen from the number of successful submissions.</p><p>You can also take a look at the code behind my solution on
<a href=https://github.com/zorzigio/jane_street_puzzles/blob/main/2022-12-Die_agony/README.md target=_blank>GitHub</a>.</p><p>Do you want to take a look at more puzzles? Check out
<a href=https://zorzi.dev/tags/puzzle/ title="More fun!">here</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zorzi.dev/tags/jane-street/>jane street</a></li><li><a href=https://zorzi.dev/tags/puzzle/>puzzle</a></li></ul></footer></article></main><footer class=footer>Website Built @ 23 Nov 2023 08:18 UTC</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>