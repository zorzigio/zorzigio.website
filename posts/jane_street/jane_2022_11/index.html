<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pent-up Frustration 2 | zorzi.dev</title><meta name=keywords content="jane street,puzzle"><meta name=description content="Introduction This is the solution of the November&rsquo;s Jane Street puzzle. It involves pentagons, patience and a lot of computation. Check out the original post on the Jane Street website.
The Puzzle The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.
You have seventeen identical unit regular pentagonal tiles on a tabletop. You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries."><meta name=author content="Giorgio Zorzi"><link rel=canonical href=https://zorzi.dev/posts/jane_street/jane_2022_11/><link crossorigin=anonymous href=/assets/css/stylesheet.3013caa96da72348ecf619db5f1c5164f964cc1e7734776ddef00ba60fd3a10d.css integrity="sha256-MBPKqW2nI0js9hnbXxxRZPlkzB53NHdt3vALpg/ToQ0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://zorzi.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zorzi.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zorzi.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://zorzi.dev/apple-touch-icon.png><link rel=mask-icon href=https://zorzi.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VYMLMYB0DN"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VYMLMYB0DN",{anonymize_ip:!1})}</script><meta property="og:title" content="Pent-up Frustration 2"><meta property="og:description" content="Introduction This is the solution of the November&rsquo;s Jane Street puzzle. It involves pentagons, patience and a lot of computation. Check out the original post on the Jane Street website.
The Puzzle The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.
You have seventeen identical unit regular pentagonal tiles on a tabletop. You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries."><meta property="og:type" content="article"><meta property="og:url" content="https://zorzi.dev/posts/jane_street/jane_2022_11/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-01T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-01T00:00:00+00:00"><meta property="og:site_name" content="zorzi.dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pent-up Frustration 2"><meta name=twitter:description content="Introduction This is the solution of the November&rsquo;s Jane Street puzzle. It involves pentagons, patience and a lot of computation. Check out the original post on the Jane Street website.
The Puzzle The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.
You have seventeen identical unit regular pentagonal tiles on a tabletop. You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zorzi.dev/posts/"},{"@type":"ListItem","position":3,"name":"Pent-up Frustration 2","item":"https://zorzi.dev/posts/jane_street/jane_2022_11/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Pent-up Frustration 2","name":"Pent-up Frustration 2","description":"Introduction This is the solution of the November\u0026rsquo;s Jane Street puzzle. It involves pentagons, patience and a lot of computation. Check out the original post on the Jane Street website.\nThe Puzzle The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.\nYou have seventeen identical unit regular pentagonal tiles on a tabletop. You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries.","keywords":["jane street","puzzle"],"articleBody":"Introduction This is the solution of the November’s Jane Street puzzle. It involves pentagons, patience and a lot of computation. Check out the original post on the Jane Street website.\nThe Puzzle The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.\nYou have seventeen identical unit regular pentagonal tiles on a tabletop. You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries. What is the smallest nonzero distance you can create between two of the pentagons?\nAs an example, if you had to find this distance for four pentagons, the answer would be ~0.5877853, from the arrangement pictured above.\nSolution In order to solve this problem, I started to think about how to represent a sequence of pentagons. The way I went about it was to fix the first two pentagons and then starting to add the next on one of the four faces of the previous pentagon. In this way I could represent a sequence of pentagons as a sequence of integers from 2 to 5, where each integer represents the face of the previous pentagon that the next pentagon is added to. To represent the simple example with four pentagons, the sequence of integers would be [3, 2].\nI also wanted to create visualizations of the polyforms that I would create. That would ensure I was on the right track and also help me to understand the problem better. I ended up choosing Python as the language to solve this problem.\nSolving the problem with brute force would require cracking all possible sequences of integers from 2 to 5 with length 15 (remember that the first two pentagons are fixed). This would be equivalent to 4^15 = 1073741824 possible sequences (more tha 1 billion sequences!). There are however some things to keep in mind that would help reduce the number of sequences to consider:\nsome sequences are equivalent to others in terms of minimum distance between pentagons, for example [3, 2] and [4, 5] are equivalent. This means that we can reduce the number of sequences to consider by half by considering only the sequences that start with 2 or 3. if we find that a pentagon is causing a collision (i.e. [2, 2, …]), we can stop considering the sequence that causes the collision and continue directly with the next one (in this case it would be [2, 3, …] and we would have skipped 4^13 ~ 67 million sequences)). There are probably other ways to reduce the number of sequences to consider, but it is alway a trade between time spent coding and time spent running the code.\nThere are different sequences that lead to the same solution of 0.1387573, and this is one of them [2, 5, 2, 5, 2, 3, 4, 2, 5, 2, 3, 4, 2, 3, 5] which you can also see in the image below.\nAnd this is the link to the solution from Jane Street Link\nFinal notes This was a fun puzzle to solve. If I had to start from scratch, I would probably use C++ rather than Python, just to gain some speed in the computation and not having the laptop running for days…\nYou can also take a look at the code behind my solution on GitHub.\nDo you want to take a look at more puzzles? Check out here\n","wordCount":"584","inLanguage":"en","datePublished":"2022-12-01T00:00:00Z","dateModified":"2022-12-01T00:00:00Z","author":{"@type":"Person","name":"Giorgio Zorzi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zorzi.dev/posts/jane_street/jane_2022_11/"},"publisher":{"@type":"Organization","name":"zorzi.dev","logo":{"@type":"ImageObject","url":"https://zorzi.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zorzi.dev accesskey=h title="zorzi.dev (Alt + H)">zorzi.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zorzi.dev/hello/ title=Hello><span>Hello</span></a></li><li><a href=https://zorzi.dev/education/ title=Education><span>Education</span></a></li><li><a href=https://zorzi.dev/experience/ title=Experience><span>Experience</span></a></li><li><a href=https://zorzi.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://zorzi.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zorzi.dev>Home</a>&nbsp;»&nbsp;<a href=https://zorzi.dev/posts/>Posts</a></div><h1 class=post-title>Pent-up Frustration 2</h1></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>This is the solution of the November&rsquo;s Jane Street puzzle.
It involves pentagons, patience and a lot of computation.
Check out the original post on the
<a href=https://www.janestreet.com/puzzles/pent-up-frustration-2-index/ target=_blank>Jane Street website</a>.</p><h2 id=the-puzzle>The Puzzle<a hidden class=anchor aria-hidden=true href=#the-puzzle>#</a></h2><p>The scope of this puzzle is to find the minimum distance between two pentagons arranged in a polyform.</p><p>You have seventeen identical unit regular pentagonal tiles on a tabletop.
You arrange them all into a single polyform, so each pentagon placed after the first shares a side with an already-placed pentagon, but no two pentagons overlap other than along their boundaries.
What is the smallest nonzero distance you can create between two of the pentagons?</p><p>As an example, if you had to find this distance for four pentagons, the answer would be ~0.5877853, from the arrangement pictured above.</p><p><img loading=lazy src=images/4-pents.svg alt="Example image"></p><h2 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h2><p>In order to solve this problem, I started to think about how to represent a sequence of pentagons.
The way I went about it was to fix the first two pentagons and then starting to add the next on one of the four faces of the previous pentagon.
In this way I could represent a sequence of pentagons as a sequence of integers from 2 to 5, where each integer represents the face of the previous pentagon that the next pentagon is added to.
To represent the simple example with four pentagons, the sequence of integers would be [3, 2].</p><p><img loading=lazy src=images/4-pents-display.svg alt="Example image"></p><p>I also wanted to create visualizations of the polyforms that I would create.
That would ensure I was on the right track and also help me to understand the problem better.
I ended up choosing Python as the language to solve this problem.</p><p>Solving the problem with brute force would require cracking all possible sequences of integers from 2 to 5 with length 15 (remember that the first two pentagons are fixed).
This would be equivalent to 4^15 = 1073741824 possible sequences (more tha 1 billion sequences!).
There are however some things to keep in mind that would help reduce the number of sequences to consider:</p><ol><li>some sequences are equivalent to others in terms of minimum distance between pentagons, for example [3, 2] and [4, 5] are equivalent.
This means that we can reduce the number of sequences to consider by half by considering only the sequences that start with 2 or 3.</li><li>if we find that a pentagon is causing a collision (i.e. [2, 2, &mldr;]), we can stop considering the sequence that causes the collision and continue directly with the next one (in this case it would be [2, 3, &mldr;] and we would have skipped 4^13 ~ 67 million sequences)).</li></ol><p>There are probably other ways to reduce the number of sequences to consider, but it is alway a trade between time spent coding and time spent running the code.</p><p>There are different sequences that lead to the same solution of 0.1387573, and this is one of them <code>[2, 5, 2, 5, 2, 3, 4, 2, 5, 2, 3, 4, 2, 3, 5]</code> which you can also see in the image below.</p><p><img loading=lazy src=images/solution.svg alt="Example image"></p><p>And this is the link to the solution from Jane Street
<a href=https://www.janestreet.com/puzzles/pent-up-frustration-2-solution/ target=_blank>Link</a></p><h2 id=final-notes>Final notes<a hidden class=anchor aria-hidden=true href=#final-notes>#</a></h2><p>This was a fun puzzle to solve.
If I had to start from scratch, I would probably use C++ rather than Python, just to gain some speed in the computation and not having the laptop running for days&mldr;</p><p>You can also take a look at the code behind my solution on
<a href=https://github.com/zorzigio/jane_street_puzzles/blob/main/2022-11-Pent-up_frustration_2/README.md target=_blank>GitHub</a>.</p><p>Do you want to take a look at more puzzles? Check out
<a href=https://zorzi.dev/tags/puzzle/ title="More fun!">here</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zorzi.dev/tags/jane-street/>jane street</a></li><li><a href=https://zorzi.dev/tags/puzzle/>puzzle</a></li></ul></footer></article></main><footer class=footer>Website Built @ 24 Oct 2023 08:19 UTC</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>